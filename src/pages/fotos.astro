---
import fs from 'node:fs';
import path from 'node:path';

import "/public/styles/global.css";
import BaseLayoutDark from '../layouts/BaseLayoutDark.astro';

// Bilder aus /public/bilder/Portfolio einlesen
const imagesDir = './public/bilder/portfolio';
const imageFiles = fs.readdirSync(imagesDir).filter(file =>
  ['.jpg', '.jpeg', '.png', '.webp'].includes(path.extname(file).toLowerCase())
);
const imagePaths = imageFiles.map(file => `/bilder/portfolio/${file}`);
---

<html lang="de">

<BaseLayoutDark>
    <main class="max-w-6xl mx-auto px-4 py-8 ">
<div class="columns-1 sm:columns-2 md:columns-3 lg:columns-4 gap-4">
  {imagePaths.map(path => (
    <a
      href={path}
      target="_blank"
      rel="noopener noreferrer"
      class="break-inside-avoid mb-3 block"
    >
      <img
        src={path}
        alt="Portfolio Bild"
        loading="lazy"
        class="w-full h-auto shadow-lg transition-transform hover:scale-[1.02]"
      />
    </a>
  ))}
</div>
</main>
</BaseLayoutDark>
    
</html>